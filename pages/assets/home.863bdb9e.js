var l=Object.defineProperty,e=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,t=(e,a,o)=>a in e?l(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o;import{b as n,r as s,d as i,p as u,a as d,e as p,o as c,f as m,g as r,F as f,h as b,t as g,q as v,i as y,s as h,j as C}from"./vendor.2b429735.js";import{s as w}from"./index.54690d5f.js";import"./http.27f2615d.js";const k={name:"Home",props:{},setup(l){const u=n();let d=s([{name:"示例",path:"/tablePage"}]);const p=async function(l){let e=!0;w.commit("changeNowTag",l.name),await w.state.tableNameList.forEach((a=>{a.name===l.name&&(e=!1)})),l&&e&&w.commit("addTableName",l)},c=function(){d.value=d.value.concat([{name:"七周年",path:"/tablePage"}])};c();let m=s(!1);let r=i({name:"",tableTags:[],toolTags:[]}),f=s([]),b=s(!1),g=s("");let v=i({tag:"",type:"1"}),y=s([]),h=s(!1);return{showDialog:m,form:r,dynamicTags:f,inputVisible:b,inputValue:g,toolTags:y,toolInputVisible:h,queryData:c,openAddForm:function(){m.value=!0},handleClose:function(l){f.value.splice(f.value.indexOf(l.value),1)},showInput:function(){b.value=!0},handleInputConfirm:function(){let l=g;l.value&&f.value.push(l.value),b.value=!1,g.value=""},toolHandleClose:function(l){y.value.splice(y.value.indexOf(l.value),1)},toolShowInput:function(){h.value=!0},toolHandleInputConfirm:function(){v.tag&&v.type&&(y.value.push(((l,n)=>{for(var s in n||(n={}))a.call(n,s)&&t(l,s,n[s]);if(e)for(var s of e(n))o.call(n,s)&&t(l,s,n[s]);return l})({},v)),console.log(y.value)),h.value=!1,v.tag=""},confirmAddTable:function(){r.tableTags=f,r.toolTags=y,console.log(r)},goTablePage:function(l){p(l),u.push("/tablePage")},tableList:d,testStore:p,options:[{value:"1",label:"普通文字"},{value:"2",label:"时间选择器"},{value:"3",label:"下拉框选择"}],nowTool:v}}},T=C();u("data-v-3260d752");const V={class:"mainBox"},_=r("div",{class:"title"},"平平无奇的表格",-1),I={class:"tableName"},j={class:"btnBox"},x=r("div",{class:"tableName"},"+",-1),O=y("+ New Tag"),P={key:0,class:"addToolBox"},z=y("确定"),A=y("+ New Tool Tag"),N={class:"dialog-footer"},F=y("取 消"),B=y("确定添加");d();const D=T(((l,e,a,o,t,n)=>{const s=p("el-input"),i=p("el-form-item"),u=p("el-divider"),d=p("el-tag"),C=p("el-button"),w=p("el-option"),k=p("el-select"),D=p("el-form"),H=p("el-dialog");return c(),m("div",V,[_,r("ul",null,[(c(!0),m(f,null,b(o.tableList,(l=>(c(),m("li",{onClick:e=>o.goTablePage(l),key:l.path},[r("div",I,g(l.name),1),r("div",j,[r("span",{class:"bgRed",onClick:e[1]||(e[1]=v((()=>{}),["stop"]))},"删除"),r("span",{class:"bgGreen",onClick:e[2]||(e[2]=v(((...l)=>o.openAddForm&&o.openAddForm(...l)),["stop"]))},"编辑")])],8,["onClick"])))),128)),r("li",{class:"addLi",onClick:e[3]||(e[3]=(...l)=>o.openAddForm&&o.openAddForm(...l))},[x])]),r(H,{title:"表格内容填写",modelValue:o.showDialog,"onUpdate:modelValue":e[11]||(e[11]=l=>o.showDialog=l),top:"12vh"},{footer:T((()=>[r("span",N,[r(C,{onClick:e[10]||(e[10]=l=>o.showDialog=!1)},{default:T((()=>[F])),_:1}),r(C,{type:"primary",onClick:o.confirmAddTable},{default:T((()=>[B])),_:1},8,["onClick"])])])),default:T((()=>[r(D,{model:o.form,"label-width":84,"label-position":"left",onClick:e[9]||(e[9]=l=>{o.inputVisible=!1,o.toolInputVisible=!1})},{default:T((()=>[r(i,{label:"表格名称"},{default:T((()=>[r(s,{modelValue:o.form.name,"onUpdate:modelValue":e[4]||(e[4]=l=>o.form.name=l),size:"small",style:{width:"300px"},placeholder:"请输入表格名称(禁止重复)"},null,8,["modelValue"])])),_:1}),r(u),r(i,{label:"表格数据项"},{default:T((()=>[(c(!0),m(f,null,b(o.dynamicTags,(l=>(c(),m(d,{key:l,closable:"","disable-transitions":!1,onClose:e=>o.handleClose(l)},{default:T((()=>[y(g(l),1)])),_:2},1032,["onClose"])))),128)),o.inputVisible?(c(),m(s,{key:0,class:"input-new-tag",modelValue:o.inputValue,"onUpdate:modelValue":e[5]||(e[5]=l=>o.inputValue=l),placeholder:"回车确定",ref:"saveTagInput",size:"small",onClick:e[6]||(e[6]=v((()=>{}),["stop"])),onKeyup:h(o.handleInputConfirm,["enter"]),onBlur:o.handleInputConfirm},null,8,["modelValue","onKeyup","onBlur"])):(c(),m(C,{key:1,class:"button-new-tag",size:"small",onClick:v(o.showInput,["stop"])},{default:T((()=>[O])),_:1},8,["onClick"]))])),_:1}),r(u),r(i,{label:"工具栏"},{default:T((()=>[(c(!0),m(f,null,b(o.toolTags,(l=>(c(),m(d,{key:l.tag,closable:"","disable-transitions":!1,onClose:e=>o.toolHandleClose(l)},{default:T((()=>[y(g(o.options[1*l.type-1].label+":"+l.tag),1)])),_:2},1032,["onClose"])))),128)),o.toolInputVisible?(c(),m("div",P,[r(k,{modelValue:o.nowTool.tag,"onUpdate:modelValue":e[7]||(e[7]=l=>o.nowTool.tag=l),style:{width:"100%"},size:"small",placeholder:"请选择"},{default:T((()=>[(c(!0),m(f,null,b(o.dynamicTags,(l=>(c(),m(w,{key:l,label:l,value:l},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),r(k,{modelValue:o.nowTool.type,"onUpdate:modelValue":e[8]||(e[8]=l=>o.nowTool.type=l),style:{width:"100%"},size:"small",placeholder:"请选择"},{default:T((()=>[(c(!0),m(f,null,b(o.options,(l=>(c(),m(w,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),r(C,{style:{width:"100%"},onClick:o.toolHandleInputConfirm,size:"small",type:"primary"},{default:T((()=>[z])),_:1},8,["onClick"])])):(c(),m(C,{key:1,class:"button-new-tag",size:"small",autofocus:!0,onClick:v(o.toolShowInput,["stop"])},{default:T((()=>[A])),_:1},8,["onClick"]))])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}));k.render=D,k.__scopeId="data-v-3260d752";export{k as default};
